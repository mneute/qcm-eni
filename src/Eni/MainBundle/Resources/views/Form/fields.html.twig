{% block form_errors %}
{% spaceless %}
    {% if errors|length > 0 %}
    {% for error in errors %}
    <span class="help-block">{{ error.message }}</span>
    {% endfor %}
    {% endif %}
{% endspaceless %}
{% endblock %}
    
{% block form_row %}
{% spaceless %}
    {% set class = 'form-group' %}
    {% if errors|length > 0 %}
        {% set class = class ~ ' has-error has-feedback' %}
    {% endif %}
    {% set widgetClass = 'form-control' %}
    {% if attr.class is defined %}
        {% set widgetClass = attr.class ~ ' ' ~ widgetClass %}
    {% endif %}
    <div class="{{ class }}">
        {{ form_label(form, null, {'label_attr': {'class': 'col-sm-3 control-label' } } ) }}
        <div class="col-sm-9">
            {{ form_widget(form, {'attr': {'class': widgetClass } }) }}
            {% if errors|length > 0 %}
            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            {% endif %}
        </div>
        <div class="col-sm-offset-3 col-sm-9">
            {{ form_errors(form) }}
        </div>
    </div>
{% endspaceless %}
{% endblock form_row %}